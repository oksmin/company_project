spring.application.name=SpringBootWithJPA

#-----------------------#
# server port setting
#-----------------------#
server.port=8000
server.servlet.context-path=/

#-----------------------#
# oracle dbms connection
#-----------------------#
spring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl
spring.datasource.username=scott
spring.datasource.password=tiger
#spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver


#-----------------------#
# HikariCP 설정
#-----------------------#
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
#30초 30000, 1분 60000, 3분 180000 
# 풀에서 커넥션 얻을 때 최대 대기 = 30초
spring.datasource.hikari.connection-timeout=30000
#DB 연결/검증을 시도 시 30초 안에 성공하지 못하면 풀 초기화를 실패시키고 예외처리
spring.datasource.hikari.initialization-fail-timeout=30000
# 10분 동안 놀고 있으면 반납 후보
spring.datasource.hikari.idle-timeout=600000
# 30분 지나면 커넥션 교체
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-init-sql=SELECT 1 FROM dual
#spring.datasource.hikari.pool-name=OksminHikariPool
#auto-comit =true 가 디폴트 값, @Transactional로 관리할 예정
spring.datasource.hikari.auto-commit=false
#Transaction Manager은 내부에 생성되어있음. @Transactional 쓰면 됨.

#-----------------------#
# JPA / Hibernate 설정
# Hibernate -> JPA를 통해서 실제적으로 SQL을 만들어서 쿼리를 날리는 역할을 하는 개체
# MySQL용 → MySQLDialect
# PostgreSQL용 → PostgreSQLDialect
# Oracle용 → OracleDialect
#-----------------------#
spring.jpa.hibernate.ddl-auto=update
# 개발하면서는 update, 처음엔 create, 나중에 운영 가면 validate 추천
#Oracle에 posts 테이블이 아직 없으면 → 새로 만들어주고, 있으면 → 엔티티와 비교해서 부족한 컬럼/제약만 추가.

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Hibernate 6 (Spring Boot 3.x) Oracle Dialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.OracleDialect